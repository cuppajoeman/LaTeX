% Packages
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{xcolor}
\usepackage{amsthm}
\usepackage{thmtools}
\usepackage{amsfonts}
\usepackage{geometry}
\usepackage{gauss}
\usepackage{pifont}
\usepackage{hyperref}
\usepackage{witharrows}
\usepackage{cleveref}
\usepackage{tikz}
\usepackage{todonotes}
\usepackage{enumitem}
\usepackage{mdframed}
\usetikzlibrary{patterns,angles,quotes,decorations.pathreplacing}
\hypersetup{
    colorlinks=true, %set true if you want colored links
    linktoc=all,     %set to all if you want both sections and subsections linked
    linkcolor=blue,  %choose some color if you want links to stand out
}


% BlackSquare for proofs
\renewcommand{\qedsymbol}{$\blacksquare$}

\theoremstyle{definition}

% Matricies
\newcommand\mat[2][b]{\begin{#1matrix}#2\end{#1matrix}}

% Augmented matrix
\makeatletter
\renewcommand*\env@matrix[1][*\c@MaxMatrixCols c]{%
  \hskip -\arraycolsep
  \let\@ifnextchar\new@ifnextchar
  \array{#1}}
\makeatother

% Modular Arithmetic
\newcommand{\Mod}[1]{\ (\mathrm{mod}\ #1)}

% Automatic Parenthesis scaling
\delimitershortfall-1sp
\usepackage{mleftright}
\mleftright % make \left & \right behave like \mleft & \mright

% Theorems
\newtheoremstyle{break}
  {\topsep}{\topsep}%
  {\itshape}{}%
  {\bfseries}{}%
  {\newline}{}%
\theoremstyle{break}

\newtheorem{remark}{Remark}[section]

\newtheorem{ver}{Verfication}[section]

\newtheorem{ex}{Exercise}[section]

\newtheorem{eg}{Example}[section]

% definition env
\newmdtheoremenv{defn}{Definition}

% Note env
\newmdtheoremenv{nt}{Note}

% definition env no num
\newtheorem*{defnnonum}{Definition}

% theorem envs
\newtheorem{thm}{Theorem}

% theorem envs without counter

\newtheorem{propo}[thm]{Proposition}

\newtheorem{crly}[thm]{Corollary}

\newtheorem{lemma}[thm]{Lemma}

\newtheorem{axiom}[thm]{Axiom}

\newtheorem*{thmnonum}{Theorem}

\newtheorem*{propononum}{Proposition}

\newtheorem*{crlynonum}{Corollary}

\newtheorem*{lemmanonum}{Lemma}

\newtheorem*{axiomnonum}{Axiom}


\newtheorem{note}{Note}[section]

\newtheorem{mnote}[note]{Note}

\newtheorem*{notation}{Notation}
    % warning env
\newtheorem*{warning}{Warning}

% So todo's don't get cut off
\setlength{\marginparwidth}{3cm}

% Define cuboids
\tikzset{
  annotated cuboid/.pic={
    \tikzset{%
      every edge quotes/.append style={midway, auto},
      /cuboid/.cd,
      #1
    }
    \draw [every edge/.append style={pic actions, densely dashed, opacity=.5}, pic actions]
    (0,0,0) coordinate (o) -- ++(-\cubescale*\cubex,0,0) coordinate (a) -- ++(0,-\cubescale*\cubey,0) coordinate (b) edge coordinate [pos=1] (g) ++(0,0,-\cubescale*\cubez)  -- ++(\cubescale*\cubex,0,0) coordinate (c) -- cycle
    (o) -- ++(0,0,-\cubescale*\cubez) coordinate (d) -- ++(0,-\cubescale*\cubey,0) coordinate (e) edge (g) -- (c) -- cycle
    (o) -- (a) -- ++(0,0,-\cubescale*\cubez) coordinate (f) edge (g) -- (d) -- cycle;
    \path [every edge/.append style={pic actions, |-|}]
    (b) +(0,-5pt) coordinate (b1) edge ["\cubex \cubeunits"'] (b1 -| c)
    (b) +(-5pt,0) coordinate (b2) edge ["\cubey \cubeunits"] (b2 |- a)
    (c) +(3.5pt,-3.5pt) coordinate (c2) edge ["\cubez \cubeunits"'] ([xshift=3.5pt,yshift=-3.5pt]e)
    ;
  },
  /cuboid/.search also={/tikz},
  /cuboid/.cd,
  width/.store in=\cubex,
  height/.store in=\cubey,
  depth/.store in=\cubez,
  units/.store in=\cubeunits,
  scale/.store in=\cubescale,
  width=10,
  height=10,
  depth=10,
  units=cm,
  scale=.1,
}

% highlighting shortcuts
\newcommand{\hlimpo}[1]{\textcolor{red}{\textbf{#1}}}
\newcommand{\hlwarn}[1]{\textcolor{yellow}{\textbf{#1}}}
\newcommand{\hldefn}[1]{\textcolor{blue}{\index{#1}\textbf{#1}}}
\newcommand{\hlnotea}[1]{\textcolor{green}{\textbf{#1}}}
\newcommand{\hlnoteb}[1]{\textcolor{cyan}{\textbf{#1}}}
\newcommand{\hlb}[2]{\colorbox{#1!30!background}{#2}}
\newcommand{\hlbnotea}[1]{\hlb{green}{#1}}
\newcommand{\hlbnoteb}[1]{\hlb{cyan}{#1}}
\newcommand{\hlbnotec}[1]{\hlb{yellow}{#1}}
\newcommand{\hlbnoted}[1]{\hlb{magenta}{#1}}
\newcommand{\hlbnotee}[1]{\hlb{red}{#1}}
\newcommand{\WTP}{\textcolor{bwhite}{WTP} }
\newcommand{\WTS}{\textcolor{bwhite}{WTS} }

